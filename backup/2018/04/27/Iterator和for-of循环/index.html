<!DOCTYPE HTML>
<html class="no-js" lang="zh-CN">
<!--
//                            _ooOoo_
//                           o8888888o
//                           88" . "88
//                           (| -_- |)
//                            O\ = /O
//                        ____/`---'\____
//                      .   ' \\| |// `.
//                       / \\||| : |||// \
//                     / _||||| -:- |||||- \
//                       | | \\\ - /// | |
//                     | \_| ''\---/'' | |
//                      \ .-\__ `-` ___/-. /
//                   ___`. .' /--.--\ `. . __
//                ."" '< `.___\_<|>_/___.' >'"".
//               | | : `- \`.;`\ _ /`;.`/ - ` : | |
//                 \ \ `-. \_ __\ /__ _/ .-` / /
//         ======`-.____`-.___\_____/___.-`____.-'======
//                            `=---='
//                 拦截插件累计拦截逗比攻击"1381438"次！
//         .............................................
//                  佛祖保佑             永无BUG
//          佛曰:
//                  写字楼里写字间，写字间里程序员；
//                  程序人员写程序，又拿程序换酒钱。
//                  酒醒只在网上坐，酒醉还来网下眠；
//                  酒醉酒醒日复日，网上网下年复年。
//                  但愿老死电脑间，不愿鞠躬老板前；
//                  奔驰宝马贵者趣，公交自行程序员。
//                  别人笑我忒疯癫，我笑自己命太贱；
//                  不见满街漂亮妹，哪个归得程序员？
-->
<head>
    <!--[if lte IE 9]>
<meta http-equiv="refresh" content="0;url=https://qiaoding18.github.io/warn.html">
<![endif]-->
<meta charset="utf-8">

<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
<meta http-equiv="mobile-agent" content="format=html5; url=https://qiaoding18.github.io">
<meta name="author" content="乔丁">
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/SimpleStyle.min.css">

<link rel="shortcut icon" href="/images/favicon.png">


<title>iterator和for...of循环 - QiaoDing Blog</title>

<meta name="keywords" content="">

<meta name="description " content="">
</head>
<body>
<div id="nav">
    <nav class="nav-menu">
        <a class="site-name current" href="/" title="丁">丁</a>
        <a class="site-index current" href="/"><i class="fa fa-home"></i><span> 主页</span></a>
        <a href="/archives" title="归档"><i class="fa fa-archives"></i><span> 归档</span></a>
        <a href="/tags" title="标签"><i class="fa fa-tags"></i><span> 标签</span></a>
        <!-- custom single page of menus -->
        
        
        <a href="/help" title="帮助">
            <i class="fa fa-question-circle"></i>
            <span>帮助</span>
        </a>
        
    </nav>
</div>

<div class="nav-user">
    <a class="btn-search" href="#"><i class="fa fa-search"></i></a>
    <a class="btn-read-mode" href="#"><i class="fa fa-sun-o"></i></a>
    <a class="btn-sns-qr" href="javascript:"><i class="fa fa-telegram"></i></a>
</div>

<div id="wrapper" class="clearfix">
    <div id="body">
        <div class="main" id="main">
            <div id="cover">
    <div class="cover-img"></div>
    <div class="cover-info">
        
        <h1 class="cover-siteName">乔丁啊</h1>
        <h3 class="cover-siteTitle">一个前端小学生</h3>
        <p class="cover-siteDesc">在这写写博客啥了的</p>
        <div class="cover-sns">
            
            <div class="btn btn-github">
                <a href="https://github.com/QiaoDing18/" target="_blank" title="github" ref="friend">
                    <i class="fa fa-github"></i>
                </a>
            </div>
            
        </div>
    </div>
</div>
            <div class="page-title">
    <ul>
        <li><a href="/">最新</a></li>


        
            
                <li class="">
                    <a href="/categories/web" data-name="前端">前端</a>
                </li>
            
                <li class="">
                    <a href="/categories/net" data-name="计算机网络">计算机网络</a>
                </li>
            
                <li class="">
                    <a href="/categories/chat" data-name="闲聊">闲聊</a>
                </li>
            
        
        <li class="page-search">
    <form id="search" class="search-form">
        <label for="s" class="sr-only">请输入关键字</label>
        <input class="search-field" type="text" name="s" class="text" placeholder="搜索啦" />
        <button type="submit" class="search-form-submit" title="搜索"><i class="fa fa-search"></i></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="输入要搜的内容啦"/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(无标题)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
</li>

    </ul>
</div>
<div class="main-inner">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
        <div class="post-header">
            <div class="post-author clearfix">
                <a class="avatar fleft" href="" target="_blank">
                    <img width="48" src="/images/favicon.png" alt="avatar"/>
                </a>
                <p><span class="label">作者</span>
                    <a href="" target="_blank">乔丁</a>
                    <span title="最后编辑于2018-04-27">2018-04-27</span>
                </p>
                <p>【前端小学生】</p>
            </div>
            <h2 class="post-title">Iterator和for...of循环</h2>
            <div class="post-meta">
                本文总共4903个字 | 您是第<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>位看到它们的小伙伴
            </div>
        </div>
        <div class="post-content markdown-body">
            <h3 id="Iterator-遍历器"><a href="#Iterator-遍历器" class="headerlink" title="Iterator 遍历器"></a>Iterator 遍历器</h3><p>遍历器（Iterator）为各种不同的数据结构提供统一的访问机制。任何数据结构，只要部署Iterator接口，就可以完成遍历操作。</p>
<blockquote>
<p>Iterator作用：<br>1、为各种数据结构提供一个统一的、简便的访问接口<br>2、使数据结构的成员能够按某种次序排列<br>3、ES6创造了一种新的遍历命令——for…of循环，Iterator接口主要共for…of消费</p>
</blockquote>
<p>Ierator遍历过程：<br>1、创建一个指针对象，指向当前数据结构的起始位置。遍历器对象本质上就是一个指针对象</p>
<p>2、第一次调用指针对象的next方法，可以将指针指向数据结构的第一个成员</p>
<p>3、第二次调用指针对象的next方法，指针就指向数据结构的第二个成员</p>
<p>4、不断调用指针对象的next方法，直到它指向数据结构的结束位置。</p>
<p>每一次调用next方法，都会返回数据结构当前成员的信息。具体来说，就是返回一个包含value和done两个属性的对象。其中，value属性是当前成员的值，done属性是一个布尔值，表示遍历是否结束</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> it = makeIterator([<span class="string">'a'</span>, <span class="string">'b'</span>]);</span><br><span class="line">it.next(); <span class="comment">//value:a,done:false</span></span><br><span class="line">it.next(); <span class="comment">//value:b,done:false</span></span><br><span class="line">it.next(); <span class="comment">//value:undefined,done:true</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeIterator</span>(<span class="params">array</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> nextIndex = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		next: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> nextIndex &lt; array.length ?</span><br><span class="line">			&#123;<span class="attr">value</span>: array[nextIndex++], <span class="attr">done</span>: <span class="literal">false</span>&#125; :</span><br><span class="line">			&#123;<span class="attr">value</span>: <span class="literal">undefined</span>, <span class="attr">done</span>: <span class="literal">true</span>&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>函数返回一个遍历器对象（即指针对象）</p>
<p>ES6中有些数据结构具备原生的Iterator接口（比如数组），不用任何处理就可以被for..of循环遍历，有些就不行（比如对象）。原因在于，这些数据结构原生部署了<strong>Symbol.iterator</strong>属性。凡部署了Symbol.iterator属性的数据结构，就称为部署了遍历器接口。调用接口就会返回遍历器对象。<br>ES6中，数组、Set、Map具有原生数据结构<br>Symbol.iterator本身是一个表达式，返回Symbol对象的iterator属性，这是一个预定义好的、类型为Symbol的特殊值，所以要放到方括号中。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">let</span> iter = arr[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"></span><br><span class="line">iter.next() <span class="comment">//&#123;value: 'a', done: false&#125;;</span></span><br><span class="line">iter.next() <span class="comment">//&#123;value: 'b', done: false&#125;;</span></span><br><span class="line">iter.next() <span class="comment">//&#123;value: 'c', done: false&#125;;</span></span><br><span class="line">iter.next() <span class="comment">//&#123;value: undefined, done: true&#125;;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="调用Iterator接口的场合"><a href="#调用Iterator接口的场合" class="headerlink" title="调用Iterator接口的场合"></a>调用Iterator接口的场合</h3><p><strong>有一些场合会默认调用Iterator接口(即Symbol.iterator方法)</strong></p>
<h4 id="1、解构赋值"><a href="#1、解构赋值" class="headerlink" title="1、解构赋值"></a>1、解构赋值</h4><p>对数组和Set解雇进行解构赋值时，会默认调用Symbol.iterator方法<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>().add(<span class="string">'a'</span>).add(<span class="string">'b'</span>).add(<span class="string">'c'</span>);</span><br><span class="line"><span class="keyword">let</span> [x, y] = set;  <span class="comment">//x='a' y='b'</span></span><br><span class="line"><span class="keyword">let</span> [first, ...rest] = set;   <span class="comment">//first='a' second=['b', 'c']</span></span><br></pre></td></tr></table></figure></p>
<h4 id="2、扩展运算符"><a href="#2、扩展运算符" class="headerlink" title="2、扩展运算符"></a>2、扩展运算符</h4><p>扩展运算符(…)也会调用默认的Iterator接口<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"hello"</span>;</span><br><span class="line">[...str] <span class="comment">//['h', 'e', 'l', 'l', 'o']</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line">[<span class="string">'a'</span>, ...arr, <span class="string">'d'</span>]   <span class="comment">//['a', 'b', 'c', 'd']</span></span><br></pre></td></tr></table></figure></p>
<p>上面的扩展运算符内部就调用了Iterator接口<br><strong>实际上，这提供了一种机制，可以将任何部署了Iterator接口的数据结构转化为数组。也就是说，只要某个数据结构部署了Iterator接口，就可以对它使用扩展运算符，将其转为数组。</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [...iterable];</span><br></pre></td></tr></table></figure></p>
<h4 id="3、yield"><a href="#3、yield" class="headerlink" title="3、yield*"></a>3、yield*</h4><p>yield*  后面跟的是一个可遍历的结构，它会调用该结构的遍历器接口<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> generator = <span class="function"><span class="keyword">function</span>* (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">yield</span>* [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">	<span class="keyword">yield</span> <span class="number">5</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> iterator = generator();</span><br><span class="line">iterator.next();  <span class="comment">//&#123; value: 1, done: false &#125;</span></span><br><span class="line">iterator.next();  <span class="comment">//&#123; value: 2, done: false &#125;</span></span><br><span class="line">iterator.next();  <span class="comment">//&#123; value: 3, done: false &#125;</span></span><br><span class="line">iterator.next();  <span class="comment">//&#123; value: 4, done: false &#125;</span></span><br><span class="line">iterator.next();  <span class="comment">//&#123; value: 5, done: false &#125;</span></span><br><span class="line">iterator.next();  <span class="comment">//&#123; value: 6, done: false &#125;</span></span><br><span class="line">iterator.next();  <span class="comment">//&#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure></p>
<h4 id="4、其他场合"><a href="#4、其他场合" class="headerlink" title="4、其他场合"></a>4、其他场合</h4><p>由于数组的遍历会调用遍历器接口，所以任何接受任何数组作为参数的场合其实都调用了遍历器接口。</p>
<ul>
<li>for…of</li>
<li>Array.from()</li>
<li>Map()、Set()、WeakMap()和WeakSet()（比如new Map([[‘a’, 1], [‘b’, 2]])）</li>
<li>Promise.all()</li>
<li>Promise.race()</li>
</ul>
<h3 id="for…of"><a href="#for…of" class="headerlink" title="for…of"></a><strong>for…of</strong></h3><p><strong>一个数据结构只要部署了Symbol.iterator属性，就被视为具有Iterator接口，就可以用for…of循环遍历它的成员。</strong></p>
<h4 id="1、数组"><a href="#1、数组" class="headerlink" title="1、数组"></a>1、数组</h4><p>数组原生具备Iterator接口，for…of循环本质上就算是调用这个接口产生的遍历器</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">const</span> arr = [<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>];</span><br><span class="line">&gt;<span class="keyword">let</span> iterator = arr[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line">&gt;<span class="keyword">for</span>(<span class="keyword">let</span> v <span class="keyword">of</span> arr)&#123;</span><br><span class="line">&gt;  <span class="built_in">console</span>.log(v);   <span class="comment">// red green  blue</span></span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;<span class="keyword">for</span>(<span class="keyword">let</span> v <span class="keyword">of</span> iterator)&#123;</span><br><span class="line">&gt;  <span class="built_in">console</span>.log(v);   <span class="comment">// red green blue</span></span><br><span class="line">&gt;&#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>以上两种方法等价<br>JS原有的for…in循环，只能获得对象的键名，不能直接获取键值。ES6提供for…of循环，允许遍历获得键值<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> a <span class="keyword">in</span> arr)&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(a);  <span class="comment">//0 1 2 3  键名</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> a <span class="keyword">of</span> arr)&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(a);  <span class="comment">//a b c d  键值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>2、Set和Map结构<br>Set和Map结构也原生具有Iterator接口，可以直接使用for…of循环<br>（1）遍历的顺序是按照各个成员被添加进数据结构的顺序<br>（2）Set结构遍历时返回的是一个值，而Map结构遍历时返回的是一个数组，该数组的两个成员分别为当前Map成员的键名和键值。</p>
<p>3、计算生成的数据结构<br>有些数据结构是现有数据结构基础上计算生成的，比如以下3个方法调用后</p>
<ul>
<li>entries()返回遍历器对象，用于遍历【键名， 键值】组成的<strong>数组</strong></li>
<li>keys()返回一个遍历器对象，用于遍历所有的<strong>键名</strong></li>
<li>values()返回一个遍历器对象，用于遍历所有的<strong>键值</strong></li>
</ul>
<p>4、类似数组的对象<br>比如字符串、DOM NodeList对象、arguments对象<br>但并不是所有类似数组的对象都具有Iterator接口。一个简便的方法是使用Array.from方法将其转化为数组<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayLike = &#123;<span class="attr">length</span>: <span class="number">2</span>, <span class="number">0</span>: <span class="string">'a'</span>, <span class="number">1</span>: <span class="string">'b'</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> x <span class="keyword">of</span> arrayLike)&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;                  <span class="comment">// 报错</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> x <span class="keyword">of</span> <span class="built_in">Array</span>.from(arrayLike))&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>5、对象<br>对于普通的对象，for…of结构不能直接使用，会报错，必须部署了接口才能使用。但是，这样的情况下，for…in循环依然可以用于遍历键名。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> es6 = &#123;</span><br><span class="line">	edition: <span class="number">6</span>,</span><br><span class="line">	committee: <span class="string">"TC39"</span>,</span><br><span class="line">	standard: <span class="string">"ECMA-262"</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(e <span class="keyword">in</span> es6)&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;<span class="comment">// edition ommittee standard</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(e <span class="keyword">of</span> es6)&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;<span class="comment">// error es6 is not iterable</span></span><br></pre></td></tr></table></figure></p>
<p>解决办法：<br>1、使用Object.keys方法将对象的键名生成一个数组，然后遍历这个数组<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">of</span> <span class="built_in">Object</span>.keys(someObj))&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(key + <span class="string">":"</span> + someObj[key])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>2、在对象上部署Iterator接口的代码，可以直接赋值给其他对象的Symbol.iterator属性<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 让for...of循环遍历jQuery对象</span></span><br><span class="line">jQuery.prototype[<span class="built_in">Symbol</span>.iterator] = <span class="built_in">Array</span>.prototype[<span class="built_in">Symbol</span>.iterator]</span><br></pre></td></tr></table></figure></p>
<p>3、使用Generator函数将对象重新包装<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">entries</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">of</span> <span class="built_in">Object</span>.keys(obj))&#123;</span><br><span class="line">		<span class="keyword">yield</span> [key, obj[key]];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [key, value] <span class="keyword">of</span> entries(obj))&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(key, <span class="string">"-&gt;"</span>, value);</span><br><span class="line">&#125;<span class="comment">// a-&gt;1  b-&gt;2  c-&gt;3</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>for…in的缺点<br>1、数组的键名是数字，但是for…in循环是以字符串作为键名，“0”、“1”、“2”<br>2、for…in循环不仅遍历数字键名，还会遍历手动添加的其他键，甚至包括原型链上的键<br>3、某些情况下 ，for…in循环主要是<strong>遍历对象而设计的，不适合遍历数组</strong></p>
</blockquote>
<blockquote>
<p>for…of的优点<br>1、有着同for…in一样的简介语法，但是没有for…in那些缺点<br>2、不同于forEach方法，它可以与break、continue、和return配合使用<br>3、提供了遍历所有数据结构的统一操作接口</p>
</blockquote>

        </div>
        <div class="post-tool">
            <a class="btn-thumbs-up" href="javascript:void(0);" data-cid="52" title="95">
                <i class="fa fa-thumbs-up" aria-hidden="true"></i> 打赏
            </a>
        </div>
        
        <div class="post-tags">标签：
            
            <a href="/tags/web/">前端</a>
            
        </div>
        
    </article>
    
    <p>本文代表个人观点，内容仅供参考。若有不恰当之处，望不吝赐教！么么哒~</p>
    
    
</div>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        </div><!-- end #main-->
    </div><!-- end #body -->
    <footer class="footer">
    <div class="footer-inner">
        <p>
            <a href="/about"  title="关于本站">关于本站</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <!-- 自定义链接 -->
            <a href="/help" title="help" >帮助中心</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <a href="http://www.tjoe18.cn/join/" title="个人链接">个人链接</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <a href="https://xiyoumobile.com/" title="3G实验室">3G实验室</a>
        </p>
        <p>
            本站点采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>，已建立<a href="/timeline" id="siteBuildingTime"></a>天<br/>
            ©2017 QiaoDing
        </p>
        

    </div>
</footer>
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
<script src="/js/InsightSearch.js"></script>
<script src="/js/SimpleCore.js"></script>

</div>
<div class="fixed-btn">
    <a class="btn-gotop" href="javascript:"> <i class="fa fa-angle-up"></i></a>
</div>
<script>
    $(function () {
        SimpleCore.init({
            buildingTime: '06/21/1997',
            current: $('.post-tags').length > 0 ? 'post' : 'archive',
            snsQRCode: '/images/sns-qrcode.png',
            donateImg: '/images/donate-qr.png',
        });
    });
</script>
</body>
</html>
